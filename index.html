<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Oct 15 - Registration</title>

  <!-- Viewport + iOS safe behaviors -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="format-detection" content="telephone=no,email=no,address=no" />
  <meta name="color-scheme" content="light dark" />
  <meta name="theme-color" content="#4285F4" />

  <!-- Security headers (client-hints via meta; best set at host, too) -->
  <meta http-equiv="Content-Security-Policy"
        content="
          default-src 'none';
          style-src   'self';
          script-src  'self';
          img-src     'self' data:;
          connect-src https://script.google.com https://script.googleusercontent.com;
          base-uri    'none';
          form-action 'none';
          frame-ancestors 'none';
          upgrade-insecure-requests;
        ">
  <meta http-equiv="Referrer-Policy" content="no-referrer" />
  <meta http-equiv="Permissions-Policy" content="geolocation=(), camera=(), microphone=()" />

  <!-- Preconnect for faster first POST to GAS -->
  <link rel="preconnect" href="https://script.google.com" crossorigin>
  <link rel="preconnect" href="https://script.googleusercontent.com" crossorigin>

  <link rel="stylesheet" href="./style.css">
  <script type="module" src="./script.js"></script>
</head>
<body>
  <main class="card" role="main">
    <div class="brand-bar" aria-hidden="true"></div>

    <h1>Event Registration</h1>
    <p class="lead">Fill in your details and tap Submit. Your record will be saved to Google Sheets.</p>

    <form id="regForm" novalidate>
      <!-- Honeypot -->
      <input class="hp" type="text" name="website" tabindex="-1" autocomplete="off" />

      <div class="field">
        <label for="fullName">Full Name *</label>
        <input id="fullName" name="fullName" type="text"
               placeholder="" required
               inputmode="text" autocapitalize="words" autocomplete="name"
               minlength="2" maxlength="100"
               pattern="^[A-Za-zÀ-ÖØ-öø-ſ'’\-\. ]{2,100}$" />
      </div>

      <div class="row">
        <div class="field">
          <label for="position">Position *</label>
          <input id="position" name="position" type="text"
                 placeholder="" required
                 inputmode="text" autocomplete="organization-title"
                 minlength="2" maxlength="80" />
        </div>
        <div class="field">
          <label for="company">Company *</label>
          <input id="company" name="company" type="text"
                 placeholder="" required
                 inputmode="text" autocomplete="organization"
                 minlength="2" maxlength="120" />
        </div>
      </div>

      <div class="field">
        <label for="email">Email Address *</label>
        <input id="email" name="email" type="email"
               placeholder="" required
               inputmode="email" autocomplete="email" maxlength="254" />
      </div>

      <div class="field">
        <label for="phone">Phone Number (optional)</label>
        <input id="phone" name="phone" type="tel" inputmode="tel"
               placeholder="+63 912 345 6789"
               autocomplete="tel"
               maxlength="20"
               pattern="^\+?[0-9\s\-()]{7,20}$" />
      </div>

      <!-- CSRF-ish double-submit cookie (server should verify) -->
      <input type="hidden" id="csrf" name="csrf" />

      <div class="actions">
        <button id="submitBtn" type="submit" class="btn">Submit</button>
        <span id="msg" class="msg" aria-live="polite"></span>
      </div>
    </form>

    <div class="footer">Powered by Google Apps Script &amp; Sheets</div>
  </main>
</body>
</html>
